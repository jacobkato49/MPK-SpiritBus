<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Spirit Bus</title>
		<!-- Shoelace CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
		<link rel = "stylesheet" type = "text/css" href = "assets/css/style.css">

	</head>
	<body>
	<nav id="main-nav" class="navbar navbar-toggleable-md navbar-light bg-faded">
	  <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
	    <span class="navbar-toggler-icon"></span>
	  </button>
	  <a class="navbar-brand" href="index.html">Spirit Bus</a>
	  <div class="collapse navbar-collapse" id="navbarNavDropdown">
	    <ul class="navbar-nav">
	      <li class="nav-item">
	        <a class="nav-link" href="#">Bus Routes</a>
	      </li>
	      <li class="nav-item">
	        <a class="nav-link" href="#">Bus Stops</a>
	      </li>
	      <li class="nav-item dropdown">
	        <a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	          City
	        </a>
	        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	          <a class="dropdown-item" href="#">Monterey Park</a>
	        </div>
	      </li>
	    </ul>
	  </div>
	</nav>
		</header>
		<div id="wrap" class="container">
			<div id="map-container" class="container text-center">
				<div id="map" class="ml-1">

  			</div>
				<div id="map-controls" class="control mt-3">
					<button class="btn-xs btn-primary" onclick="showBusLayers()">Show Buses</button>
					<button class="btn-xs btn-primary" onclick="showBusGPS()">Show Bus GPS</button>
					<button class="btn-xs btn-primary" onclick="toggleRefresh()">Toggle Refresh</button>
					<div id="slider"></div>
				</div>
			</div>
		</div>
		<footer id="footer" class="py-3">
    <div class="container text-center">
      Copyright &copy; 2017 Jakob Kato, Daniel Lobue, James Baine
    </div>
  </footer>
	<script>
		 // Note: This example requires that you consent to location sharing when
		 // prompted by your browser. If you see the error "The Geolocation service
		 // failed.", it means you probably did not give permission for the browser to
		 // locate you.
		 var map, infoWindow;
		 function initMap() {
			 map = new google.maps.Map(document.getElementById('map'), {
				 center: {lat: -34.397, lng: 150.644},
				 zoom: 6
			 });
			 infoWindow = new google.maps.InfoWindow;

			 // Try HTML5 geolocation.
			 if (navigator.geolocation) {
				 navigator.geolocation.getCurrentPosition(function(position) {
					 var pos = {
						 lat: position.coords.latitude,
						 lng: position.coords.longitude
					 };

					 infoWindow.setPosition(pos);
					 infoWindow.setContent('Location found.');
					 infoWindow.open(map);
					 map.setCenter(pos);
				 }, function() {
					 handleLocationError(true, infoWindow, map.getCenter());
				 });
			 } else {
				 // Browser doesn't support Geolocation
				 handleLocationError(false, infoWindow, map.getCenter());
			 }
		 }

		 function handleLocationError(browserHasGeolocation, infoWindow, pos) {
			 infoWindow.setPosition(pos);
			 infoWindow.setContent(browserHasGeolocation ?
														 'Error: The Geolocation service failed.' :
														 'Error: Your browser doesn\'t support geolocation.');
			 infoWindow.open(map);
		 }
	 </script>


	 	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDAysHO21GVaK45RdxRsE0Q-xN6s8oBuY4&callback=initMap"></script>

	</body>
</html>
